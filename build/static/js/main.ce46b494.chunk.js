(this.webpackJsonplorax=this.webpackJsonplorax||[]).push([[1],{1:function(t,e,n){"use strict";n.d(e,"h",(function(){return r})),n.d(e,"g",(function(){return a})),n.d(e,"f",(function(){return c})),n.d(e,"e",(function(){return o})),n.d(e,"i",(function(){return u})),n.d(e,"a",(function(){return i})),n.d(e,"c",(function(){return s})),n.d(e,"b",(function(){return l})),n.d(e,"d",(function(){return d}));var r="SET_ALERT",a="REMOVE_ALERT",c="REGISTER_SUCCESS",o="REGISTER_FAIL",u="USER_LOADED",i="AUTH_ERROR",s="LOGIN_SUCCESS",l="LOGIN_FAIL",d="LOGOUT"},10:function(t,e,n){"use strict";n.d(e,"e",(function(){return r})),n.d(e,"f",(function(){return a})),n.d(e,"g",(function(){return c})),n.d(e,"d",(function(){return o})),n.d(e,"c",(function(){return u})),n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return s}));var r=768,a="/app/pages/search",c="__theme_color",o=!0,u=!0,i="light.purple",s="ltr"},15:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(12),a=n(90),c=n(1),o=function(t,e){return function(n){var o=Object(a.a)();n({type:c.h,payload:{msg:t,alertType:e,id:o}}),"success"===e?r.b.success(t):"danger"===e?r.b.error(t):Object(r.b)(t)}}},17:function(t,e,n){"use strict";var r=n(9),a=n.n(r);e.a=function(t){t?a.a.defaults.headers.common["x-auth-token"]=t:delete a.a.defaults.headers.common["x-auth-token"]}},25:function(t,e,n){"use strict";n.d(e,"a",(function(){return p})),n.d(e,"d",(function(){return h})),n.d(e,"b",(function(){return g})),n.d(e,"c",(function(){return b}));var r=n(8),a=n.n(r),c=n(16),o=n(9),u=n.n(o),i=n(15),s=n(1),l=n(17),d=n(26),f=n.n(d),p=function(){return function(){var t=Object(c.a)(a.a.mark((function t(e){var n;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return localStorage.token&&Object(l.a)(localStorage.token),t.prev=1,t.next=4,u.a.get("http://localhost:5000/api/auth");case 4:n=t.sent,e({type:s.i,payload:n.data}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),e({type:s.a});case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}()},h=function(t){var e=t.name,n=t.email,r=t.phone,o=t.role,l=t.province,d=t.city,p=t.password,h=t.access;return function(){var t=Object(c.a)(a.a.mark((function t(c){var g,b,O,v;return a.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return g={headers:{"Content-Type":"application/json"}},h="Manufacturer"===o||"Retailer"===o||"PRO"===o||"Recycling Depot"===o||"DEFF"===o?"Pending":"n/a",b=JSON.stringify({name:e,email:n,phone:r,role:o,province:l,city:d,password:p,access:h}),t.prev=3,t.next=6,u.a.post("http://localhost:5000/api/user",b,g);case 6:O=t.sent,c({type:s.f,payload:O.data}),f.a.fire({title:"Register Successful",text:"You are all set! If you are a Manufacturer/Recycling Depot/Retailer or PRO, we will get back to you as soon as your registration is approved!",icon:"success",confirmButtonColor:"#6fb327",confirmButtonText:"Alright!"}),t.next=16;break;case 11:t.prev=11,t.t0=t.catch(3),(v=t.t0.response.data.errors)&&v.forEach((function(t){return c(Object(i.a)(t.msg,"danger"))})),c({type:s.e});case 16:case"end":return t.stop()}}),t,null,[[3,11]])})));return function(e){return t.apply(this,arguments)}}()},g=function(t,e){return function(){var n=Object(c.a)(a.a.mark((function n(r){var c,o,l,d;return a.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return c={headers:{"Content-Type":"application/json"}},o=JSON.stringify({email:t,password:e}),n.prev=2,n.next=5,u.a.post("http://localhost:5000/api/auth",o,c);case 5:l=n.sent,r({type:s.c,payload:l.data}),r(p()),r(Object(i.a)("Logged in successfully","success")),n.next=16;break;case 11:n.prev=11,n.t0=n.catch(2),(d=n.t0.response.data.errors)&&d.forEach((function(t){return r(Object(i.a)(t.msg,"danger"))})),r({type:s.b});case 16:case"end":return n.stop()}}),n,null,[[2,11]])})));return function(t){return n.apply(this,arguments)}}()},b=function(){return function(t){t({type:s.d}),t(Object(i.a)("Logged out successfully","success"))}}},47:function(t,e,n){"use strict";n.r(e);n(48),n(49),n(50),n(51),n(52),n(53),n(54),n(55);var r=n(10),a=(r.d||r.c)&&localStorage.getItem(r.g)?localStorage.getItem(r.g):r.a;localStorage.setItem(r.g,a);n.e(5).then(n.t.bind(null,91,7)).then((function(t){n(89)}))},48:function(t,e,n){},49:function(t,e,n){},89:function(t,e,n){"use strict";n.r(e);var r=n(0),a=n.n(r),c=n(11),o=n.n(c);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var u=n(12),i=(n(60),n(21)),s=n(13),l=n(37),d=n(38),f=n(35),p=n(1),h=[],g=n(2),b={token:localStorage.getItem("token"),isAuthenticated:null,loading:!0,user:null},O=Object(s.combineReducers)({alert:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case p.h:return[].concat(Object(f.a)(t),[r]);case p.g:return t.filter((function(t){return t.id!==r}));default:return t}},auth:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:b,e=arguments.length>1?arguments[1]:void 0,n=e.type,r=e.payload;switch(n){case p.i:return Object(g.a)(Object(g.a)({},t),{},{isAuthenticated:!0,loading:!1,user:r});case p.f:return localStorage.setItem("token",r.token),Object(g.a)(Object(g.a)(Object(g.a)({},t),r),{},{loading:!1,isAuthenticated:!1});case p.c:return localStorage.setItem("token",r.token),Object(g.a)(Object(g.a)(Object(g.a)({},t),r),{},{loading:!1});case p.e:case p.a:case p.b:case p.d:return localStorage.removeItem("token"),Object(g.a)(Object(g.a)({},t),{},{token:null,isAuthenticated:!1,loading:!1});default:return t}}}),v=[d.a],j=Object(s.createStore)(O,{},Object(l.composeWithDevTools)(s.applyMiddleware.apply(void 0,v))),y=n(25),m=n(17);localStorage.token&&Object(m.a)(localStorage.token);var k=function(){return Object(r.useEffect)((function(){j.dispatch(Object(y.a)())}),[]),null},S=n(5),w=a.a.lazy((function(){return Promise.all([n.e(3),n.e(0)]).then(n.bind(null,1241))}));o.a.render(Object(S.jsxs)(i.a,{store:j,children:[Object(S.jsx)(k,{}),Object(S.jsxs)(r.Suspense,{fallback:Object(S.jsx)("div",{className:"loading"}),children:[Object(S.jsx)(u.a,{}),Object(S.jsx)(w,{})]})]}),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()}))}},[[47,2,4]]]);
//# sourceMappingURL=main.ce46b494.chunk.js.map